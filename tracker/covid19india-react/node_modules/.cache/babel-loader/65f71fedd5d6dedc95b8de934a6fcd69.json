{"ast":null,"code":"import _slicedToArray from\"/home/ubuntu/myprojectdir/tracker/covid19india-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import HeaderCell from'./HeaderCell';import TableLoader from'./loaders/Table';import TableDeltaHelper from'./snippets/TableDeltaHelper';import{TABLE_FADE_IN,TABLE_FADE_OUT}from'../animations';import{DISTRICT_TABLE_COUNT,STATE_NAMES,STATISTIC_CONFIGS,TABLE_STATISTICS,TABLE_STATISTICS_EXPANDED,UNASSIGNED_STATE_CODE}from'../constants';import{getTableStatistic,parseIndiaDate}from'../utils/commonFunctions';import{FilterIcon,FoldDownIcon,InfoIcon,OrganizationIcon,QuestionIcon}from'@primer/octicons-v2-react';import classnames from'classnames';import{max}from'date-fns';import equal from'fast-deep-equal';import produce from'immer';import React,{useCallback,useEffect,useMemo,useState,lazy}from'react';import{useTranslation}from'react-i18next';import{Link}from'react-router-dom';import{useTrail,useTransition,animated,config}from'react-spring';import{useSessionStorage}from'react-use';// eslint-disable-next-line\nimport worker from'workerize-loader!../workers/getDistricts';var Row=lazy(function(){return import('./Row');});function Table(_ref){var _this=this;var states=_ref.data,timelineDate=_ref.date,regionHighlighted=_ref.regionHighlighted,setRegionHighlighted=_ref.setRegionHighlighted,expandTable=_ref.expandTable,setExpandTable=_ref.setExpandTable;var _useTranslation=useTranslation(),t=_useTranslation.t;var _useSessionStorage=useSessionStorage('sortData',{sortColumn:'confirmed',isAscending:false,delta:false}),_useSessionStorage2=_slicedToArray(_useSessionStorage,2),sortData=_useSessionStorage2[0],setSortData=_useSessionStorage2[1];var handleSortClick=useCallback(function(statistic){if(sortData.sortColumn!==statistic){setSortData(produce(sortData,function(draftSortData){draftSortData.sortColumn=statistic;}));}else{setSortData(produce(sortData,function(draftSortData){draftSortData.isAscending=!sortData.isAscending;}));}},[sortData,setSortData]);var trail=useTrail(3,{from:{transform:'translate3d(0, 10px, 0)',opacity:0},to:{transform:'translate3d(0, 0px, 0)',opacity:1},config:config.wobbly});var _useState=useState(),_useState2=_slicedToArray(_useState,2),districts=_useState2[0],setDistricts=_useState2[1];var _useState3=useState('States'),_useState4=_slicedToArray(_useState3,2),tableOption=_useState4[0],setTableOption=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isPerMillion=_useState6[0],setIsPerMillion=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isInfoVisible=_useState8[0],setIsInfoVisible=_useState8[1];var lastUpdatedTT=useMemo(function(){var _states$TT,_states$TT$meta,_states$TT2,_states$TT2$meta,_states$TT2$meta$test;var updatedDates=[((_states$TT=states['TT'])===null||_states$TT===void 0?void 0:(_states$TT$meta=_states$TT.meta)===null||_states$TT$meta===void 0?void 0:_states$TT$meta['last_updated'])||timelineDate,(_states$TT2=states['TT'])===null||_states$TT2===void 0?void 0:(_states$TT2$meta=_states$TT2.meta)===null||_states$TT2$meta===void 0?void 0:(_states$TT2$meta$test=_states$TT2$meta.tested)===null||_states$TT2$meta$test===void 0?void 0:_states$TT2$meta$test['last_updated']];return max(updatedDates.filter(function(date){return date;}).map(function(date){return parseIndiaDate(date);}));},[states,timelineDate]);var sortingFunction=useCallback(function(regionKeyA,regionKeyB){if(sortData.sortColumn!=='regionName'){var statisticConfig=STATISTIC_CONFIGS[sortData.sortColumn];var dataType=sortData.delta&&!statisticConfig.hideDelta?'delta':'total';var statisticA=getTableStatistic((districts===null||districts===void 0?void 0:districts[regionKeyA])||states[regionKeyA],sortData.sortColumn,isPerMillion,lastUpdatedTT)[dataType];var statisticB=getTableStatistic((districts===null||districts===void 0?void 0:districts[regionKeyB])||states[regionKeyB],sortData.sortColumn,isPerMillion,lastUpdatedTT)[dataType];return sortData.isAscending?statisticA-statisticB:statisticB-statisticA;}else{var _districts$regionKeyA,_districts$regionKeyB;var regionNameA=(districts===null||districts===void 0?void 0:(_districts$regionKeyA=districts[regionKeyA])===null||_districts$regionKeyA===void 0?void 0:_districts$regionKeyA.districtName)||STATE_NAMES[regionKeyA];var regionNameB=(districts===null||districts===void 0?void 0:(_districts$regionKeyB=districts[regionKeyB])===null||_districts$regionKeyB===void 0?void 0:_districts$regionKeyB.districtName)||STATE_NAMES[regionKeyB];return sortData.isAscending?regionNameA.localeCompare(regionNameB):regionNameB.localeCompare(regionNameA);}},[districts,isPerMillion,lastUpdatedTT,sortData.delta,sortData.isAscending,sortData.sortColumn,states]);var _setTableOption=useCallback(function(){setTableOption(function(prevTableOption){return prevTableOption==='States'?'Districts':'States';});},[]);useEffect(function(){var workerInstance=worker();workerInstance.getDistricts(states);workerInstance.addEventListener('message',function(message){if(message.data.type!=='RPC'){setDistricts(message.data);workerInstance.terminate();}});},[tableOption,states]);var transition=useTransition(isInfoVisible,null,{from:TABLE_FADE_OUT,enter:TABLE_FADE_IN,leave:TABLE_FADE_OUT});var tableStatistics=expandTable?TABLE_STATISTICS_EXPANDED:TABLE_STATISTICS;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"table-top\"},/*#__PURE__*/React.createElement(animated.div,{className:classnames('option-toggle',{'is-highlighted':tableOption==='Districts'}),onClick:_setTableOption,style:trail[0]},/*#__PURE__*/React.createElement(OrganizationIcon,{size:14})),/*#__PURE__*/React.createElement(animated.div,{className:classnames('million-toggle',{'is-highlighted':isPerMillion}),onClick:setIsPerMillion.bind(this,!isPerMillion),style:trail[0]},/*#__PURE__*/React.createElement(\"span\",null,\"10L\")),/*#__PURE__*/React.createElement(animated.div,{className:classnames('info-toggle',{'is-highlighted':isInfoVisible}),onClick:setIsInfoVisible.bind(this,!isInfoVisible),style:trail[0]},/*#__PURE__*/React.createElement(QuestionIcon,{size:14})),/*#__PURE__*/React.createElement(animated.div,{className:classnames('expand-table-toggle',{'is-highlighted':expandTable}),style:trail[1],onClick:setExpandTable.bind(this,!expandTable)},/*#__PURE__*/React.createElement(FoldDownIcon,{size:16}))),transition.map(function(_ref2){var item=_ref2.item,key=_ref2.key,props=_ref2.props;return item?/*#__PURE__*/React.createElement(animated.div,{key:key,className:\"table-helper\",style:props},/*#__PURE__*/React.createElement(\"div\",{className:\"helper-top\"},/*#__PURE__*/React.createElement(\"div\",{className:\"helper-left\"},/*#__PURE__*/React.createElement(\"div\",{className:\"info-item\"},/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(OrganizationIcon,{size:14})),/*#__PURE__*/React.createElement(\"p\",null,\"Toggle between States/Districts\")),/*#__PURE__*/React.createElement(\"div\",{className:\"info-item\"},/*#__PURE__*/React.createElement(\"h5\",null,\"10L\"),/*#__PURE__*/React.createElement(\"p\",null,\"Per Ten Lakh People\")),/*#__PURE__*/React.createElement(\"div\",{className:\"info-item sort\"},/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(FilterIcon,{size:14})),/*#__PURE__*/React.createElement(\"p\",null,\"Sort by Descending\")),/*#__PURE__*/React.createElement(\"div\",{className:\"info-item sort invert\"},/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(FilterIcon,{size:14})),/*#__PURE__*/React.createElement(\"p\",null,\"Sort by Ascending\")),/*#__PURE__*/React.createElement(\"div\",{className:\"info-item sort\"},/*#__PURE__*/React.createElement(TableDeltaHelper,null)),/*#__PURE__*/React.createElement(\"div\",{className:\"info-item notes\"},/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(InfoIcon,{size:15})),/*#__PURE__*/React.createElement(\"p\",null,\"Notes\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"helper-right\"},/*#__PURE__*/React.createElement(\"div\",{className:\"info-item\"},/*#__PURE__*/React.createElement(\"p\",null,\"Units\")),Object.entries({'1K':3,'1L':5,'1Cr':7}).map(function(_ref3){var _ref4=_slicedToArray(_ref3,2),abbr=_ref4[0],exp=_ref4[1];return/*#__PURE__*/React.createElement(\"div\",{className:\"info-item\",key:abbr},/*#__PURE__*/React.createElement(\"h5\",null,abbr),/*#__PURE__*/React.createElement(\"p\",null,\"10\",/*#__PURE__*/React.createElement(\"sup\",{style:{verticalAlign:'baseline',position:'relative',top:'-.4em'}},exp)));}))),/*#__PURE__*/React.createElement(\"h5\",{className:\"text\"},t('Compiled from State Govt. numbers'),\",\",' ',/*#__PURE__*/React.createElement(Link,{to:\"/about\"},t('know more'),\"!\"))):null;}),/*#__PURE__*/React.createElement(\"div\",{className:\"table-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"table fadeInUp\",style:{gridTemplateColumns:\"repeat(\".concat(tableStatistics.length+1,\", auto)\")}},/*#__PURE__*/React.createElement(\"div\",{className:\"row heading\"},/*#__PURE__*/React.createElement(\"div\",{className:\"cell heading\",onClick:handleSortClick.bind(this,'regionName')},/*#__PURE__*/React.createElement(\"div\",null,t(tableOption==='States'?'State/UT':'District')),sortData.sortColumn==='regionName'&&/*#__PURE__*/React.createElement(\"div\",{className:classnames('sort-icon',{invert:sortData.isAscending})},/*#__PURE__*/React.createElement(FilterIcon,{size:10}))),tableStatistics.map(function(statistic){return/*#__PURE__*/React.createElement(HeaderCell,Object.assign({key:statistic},{statistic:statistic,sortData:sortData,setSortData:setSortData},{handleSort:handleSortClick.bind(_this,statistic)}));})),tableOption==='States'&&Object.keys(states).filter(function(stateCode){return stateCode!=='TT'&&!(stateCode===UNASSIGNED_STATE_CODE&&isPerMillion);}).sort(function(a,b){return sortingFunction(a,b);}).map(function(stateCode){return/*#__PURE__*/React.createElement(Row,Object.assign({key:stateCode,data:states[stateCode]},{stateCode:stateCode,isPerMillion:isPerMillion,regionHighlighted:regionHighlighted,setRegionHighlighted:setRegionHighlighted,expandTable:expandTable,lastUpdatedTT:lastUpdatedTT}));}),tableOption==='Districts'&&!districts&&/*#__PURE__*/React.createElement(TableLoader,null),tableOption==='Districts'&&districts&&Object.keys(districts).sort(function(a,b){return sortingFunction(a,b);}).slice(0,DISTRICT_TABLE_COUNT).map(function(districtKey){return/*#__PURE__*/React.createElement(Row,Object.assign({key:districtKey,data:districts[districtKey],districtName:districts[districtKey].districtName},{isPerMillion:isPerMillion,regionHighlighted:regionHighlighted,setRegionHighlighted:setRegionHighlighted,expandTable:expandTable,lastUpdatedTT:lastUpdatedTT}));}),/*#__PURE__*/React.createElement(Row,Object.assign({key:'TT',data:states['TT'],stateCode:'TT'},{isPerMillion:isPerMillion,regionHighlighted:regionHighlighted,setRegionHighlighted:setRegionHighlighted,expandTable:expandTable,lastUpdatedTT:lastUpdatedTT})))));}var isEqual=function isEqual(prevProps,currProps){var _prevProps$regionHigh,_currProps$regionHigh,_prevProps$regionHigh2,_currProps$regionHigh2;if(!equal((_prevProps$regionHigh=prevProps.regionHighlighted)===null||_prevProps$regionHigh===void 0?void 0:_prevProps$regionHigh.districtName,(_currProps$regionHigh=currProps.regionHighlighted)===null||_currProps$regionHigh===void 0?void 0:_currProps$regionHigh.districtName)){return false;}else if(!equal((_prevProps$regionHigh2=prevProps.regionHighlighted)===null||_prevProps$regionHigh2===void 0?void 0:_prevProps$regionHigh2.stateCode,(_currProps$regionHigh2=currProps.regionHighlighted)===null||_currProps$regionHigh2===void 0?void 0:_currProps$regionHigh2.stateCode)){return false;}else if(!equal(prevProps.date,currProps.date)){return false;}else if(!equal(prevProps.data['TT'].total.confirmed,currProps.data['TT'].total.confirmed)){return false;}else if(!equal(prevProps.expandTable,currProps.expandTable)){return false;}else return true;};export default React.memo(Table,isEqual);","map":{"version":3,"sources":["/home/ubuntu/myprojectdir/tracker/covid19india-react/src/components/Table.js"],"names":["HeaderCell","TableLoader","TableDeltaHelper","TABLE_FADE_IN","TABLE_FADE_OUT","DISTRICT_TABLE_COUNT","STATE_NAMES","STATISTIC_CONFIGS","TABLE_STATISTICS","TABLE_STATISTICS_EXPANDED","UNASSIGNED_STATE_CODE","getTableStatistic","parseIndiaDate","FilterIcon","FoldDownIcon","InfoIcon","OrganizationIcon","QuestionIcon","classnames","max","equal","produce","React","useCallback","useEffect","useMemo","useState","lazy","useTranslation","Link","useTrail","useTransition","animated","config","useSessionStorage","worker","Row","Table","states","data","timelineDate","date","regionHighlighted","setRegionHighlighted","expandTable","setExpandTable","t","sortColumn","isAscending","delta","sortData","setSortData","handleSortClick","statistic","draftSortData","trail","from","transform","opacity","to","wobbly","districts","setDistricts","tableOption","setTableOption","isPerMillion","setIsPerMillion","isInfoVisible","setIsInfoVisible","lastUpdatedTT","updatedDates","meta","tested","filter","map","sortingFunction","regionKeyA","regionKeyB","statisticConfig","dataType","hideDelta","statisticA","statisticB","regionNameA","districtName","regionNameB","localeCompare","_setTableOption","prevTableOption","workerInstance","getDistricts","addEventListener","message","type","terminate","transition","enter","leave","tableStatistics","bind","item","key","props","Object","entries","abbr","exp","verticalAlign","position","top","gridTemplateColumns","length","invert","keys","stateCode","sort","a","b","slice","districtKey","isEqual","prevProps","currProps","total","confirmed","memo"],"mappings":"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","sourcesContent":["import HeaderCell from './HeaderCell';\nimport TableLoader from './loaders/Table';\nimport TableDeltaHelper from './snippets/TableDeltaHelper';\n\nimport {TABLE_FADE_IN, TABLE_FADE_OUT} from '../animations';\nimport {\n  DISTRICT_TABLE_COUNT,\n  STATE_NAMES,\n  STATISTIC_CONFIGS,\n  TABLE_STATISTICS,\n  TABLE_STATISTICS_EXPANDED,\n  UNASSIGNED_STATE_CODE,\n} from '../constants';\nimport {getTableStatistic, parseIndiaDate} from '../utils/commonFunctions';\n\nimport {\n  FilterIcon,\n  FoldDownIcon,\n  InfoIcon,\n  OrganizationIcon,\n  QuestionIcon,\n} from '@primer/octicons-v2-react';\nimport classnames from 'classnames';\nimport {max} from 'date-fns';\nimport equal from 'fast-deep-equal';\nimport produce from 'immer';\nimport React, {useCallback, useEffect, useMemo, useState, lazy} from 'react';\nimport {useTranslation} from 'react-i18next';\nimport {Link} from 'react-router-dom';\nimport {useTrail, useTransition, animated, config} from 'react-spring';\nimport {useSessionStorage} from 'react-use';\n// eslint-disable-next-line\nimport worker from 'workerize-loader!../workers/getDistricts';\n\nconst Row = lazy(() => import('./Row'));\n\nfunction Table({\n  data: states,\n  date: timelineDate,\n  regionHighlighted,\n  setRegionHighlighted,\n  expandTable,\n  setExpandTable,\n}) {\n  const {t} = useTranslation();\n  const [sortData, setSortData] = useSessionStorage('sortData', {\n    sortColumn: 'confirmed',\n    isAscending: false,\n    delta: false,\n  });\n\n  const handleSortClick = useCallback(\n    (statistic) => {\n      if (sortData.sortColumn !== statistic) {\n        setSortData(\n          produce(sortData, (draftSortData) => {\n            draftSortData.sortColumn = statistic;\n          })\n        );\n      } else {\n        setSortData(\n          produce(sortData, (draftSortData) => {\n            draftSortData.isAscending = !sortData.isAscending;\n          })\n        );\n      }\n    },\n    [sortData, setSortData]\n  );\n\n  const trail = useTrail(3, {\n    from: {transform: 'translate3d(0, 10px, 0)', opacity: 0},\n    to: {transform: 'translate3d(0, 0px, 0)', opacity: 1},\n    config: config.wobbly,\n  });\n\n  const [districts, setDistricts] = useState();\n\n  const [tableOption, setTableOption] = useState('States');\n  const [isPerMillion, setIsPerMillion] = useState(false);\n  const [isInfoVisible, setIsInfoVisible] = useState(false);\n\n  const lastUpdatedTT = useMemo(() => {\n    const updatedDates = [\n      states['TT']?.meta?.['last_updated'] || timelineDate,\n      states['TT']?.meta?.tested?.['last_updated'],\n    ];\n    return max(\n      updatedDates.filter((date) => date).map((date) => parseIndiaDate(date))\n    );\n  }, [states, timelineDate]);\n\n  const sortingFunction = useCallback(\n    (regionKeyA, regionKeyB) => {\n      if (sortData.sortColumn !== 'regionName') {\n        const statisticConfig = STATISTIC_CONFIGS[sortData.sortColumn];\n        const dataType =\n          sortData.delta && !statisticConfig.hideDelta ? 'delta' : 'total';\n\n        const statisticA = getTableStatistic(\n          districts?.[regionKeyA] || states[regionKeyA],\n          sortData.sortColumn,\n          isPerMillion,\n          lastUpdatedTT\n        )[dataType];\n        const statisticB = getTableStatistic(\n          districts?.[regionKeyB] || states[regionKeyB],\n          sortData.sortColumn,\n          isPerMillion,\n          lastUpdatedTT\n        )[dataType];\n        return sortData.isAscending\n          ? statisticA - statisticB\n          : statisticB - statisticA;\n      } else {\n        const regionNameA =\n          districts?.[regionKeyA]?.districtName || STATE_NAMES[regionKeyA];\n        const regionNameB =\n          districts?.[regionKeyB]?.districtName || STATE_NAMES[regionKeyB];\n        return sortData.isAscending\n          ? regionNameA.localeCompare(regionNameB)\n          : regionNameB.localeCompare(regionNameA);\n      }\n    },\n    [\n      districts,\n      isPerMillion,\n      lastUpdatedTT,\n      sortData.delta,\n      sortData.isAscending,\n      sortData.sortColumn,\n      states,\n    ]\n  );\n\n  const _setTableOption = useCallback(() => {\n    setTableOption((prevTableOption) =>\n      prevTableOption === 'States' ? 'Districts' : 'States'\n    );\n  }, []);\n\n  useEffect(() => {\n    const workerInstance = worker();\n    workerInstance.getDistricts(states);\n    workerInstance.addEventListener('message', (message) => {\n      if (message.data.type !== 'RPC') {\n        setDistricts(message.data);\n        workerInstance.terminate();\n      }\n    });\n  }, [tableOption, states]);\n\n  const transition = useTransition(isInfoVisible, null, {\n    from: TABLE_FADE_OUT,\n    enter: TABLE_FADE_IN,\n    leave: TABLE_FADE_OUT,\n  });\n\n  const tableStatistics = expandTable\n    ? TABLE_STATISTICS_EXPANDED\n    : TABLE_STATISTICS;\n\n  return (\n    <React.Fragment>\n      <div className=\"table-top\">\n        <animated.div\n          className={classnames('option-toggle', {\n            'is-highlighted': tableOption === 'Districts',\n          })}\n          onClick={_setTableOption}\n          style={trail[0]}\n        >\n          <OrganizationIcon size={14} />\n        </animated.div>\n\n        <animated.div\n          className={classnames('million-toggle', {\n            'is-highlighted': isPerMillion,\n          })}\n          onClick={setIsPerMillion.bind(this, !isPerMillion)}\n          style={trail[0]}\n        >\n          <span>10L</span>\n        </animated.div>\n\n        <animated.div\n          className={classnames('info-toggle', {\n            'is-highlighted': isInfoVisible,\n          })}\n          onClick={setIsInfoVisible.bind(this, !isInfoVisible)}\n          style={trail[0]}\n        >\n          <QuestionIcon size={14} />\n        </animated.div>\n\n        <animated.div\n          className={classnames('expand-table-toggle', {\n            'is-highlighted': expandTable,\n          })}\n          style={trail[1]}\n          onClick={setExpandTable.bind(this, !expandTable)}\n        >\n          <FoldDownIcon size={16} />\n        </animated.div>\n      </div>\n\n      {transition.map(({item, key, props}) =>\n        item ? (\n          <animated.div key={key} className=\"table-helper\" style={props}>\n            <div className=\"helper-top\">\n              <div className=\"helper-left\">\n                <div className=\"info-item\">\n                  <span>\n                    <OrganizationIcon size={14} />\n                  </span>\n                  <p>{`Toggle between States/Districts`}</p>\n                </div>\n\n                <div className=\"info-item\">\n                  <h5>10L</h5>\n                  <p>Per Ten Lakh People</p>\n                </div>\n\n                <div className=\"info-item sort\">\n                  <span>\n                    <FilterIcon size={14} />\n                  </span>\n                  <p>Sort by Descending</p>\n                </div>\n\n                <div className=\"info-item sort invert\">\n                  <span>\n                    <FilterIcon size={14} />\n                  </span>\n                  <p>Sort by Ascending</p>\n                </div>\n\n                <div className=\"info-item sort\">\n                  <TableDeltaHelper />\n                </div>\n\n                <div className=\"info-item notes\">\n                  <span>\n                    <InfoIcon size={15} />\n                  </span>\n                  <p>Notes</p>\n                </div>\n              </div>\n              <div className=\"helper-right\">\n                <div className=\"info-item\">\n                  <p>Units</p>\n                </div>\n                {Object.entries({'1K': 3, '1L': 5, '1Cr': 7}).map(\n                  ([abbr, exp]) => (\n                    <div className=\"info-item\" key={abbr}>\n                      <h5>{abbr}</h5>\n                      <p>\n                        10\n                        <sup\n                          style={{\n                            verticalAlign: 'baseline',\n                            position: 'relative',\n                            top: '-.4em',\n                          }}\n                        >\n                          {exp}\n                        </sup>\n                      </p>\n                    </div>\n                  )\n                )}\n              </div>\n            </div>\n\n            <h5 className=\"text\">\n              {t('Compiled from State Govt. numbers')},{' '}\n              <Link to=\"/about\">{t('know more')}!</Link>\n            </h5>\n          </animated.div>\n        ) : null\n      )}\n\n      <div className=\"table-container\">\n        <div\n          className=\"table fadeInUp\"\n          style={{\n            gridTemplateColumns: `repeat(${tableStatistics.length + 1}, auto)`,\n          }}\n        >\n          <div className=\"row heading\">\n            <div\n              className=\"cell heading\"\n              onClick={handleSortClick.bind(this, 'regionName')}\n            >\n              <div>{t(tableOption === 'States' ? 'State/UT' : 'District')}</div>\n              {sortData.sortColumn === 'regionName' && (\n                <div\n                  className={classnames('sort-icon', {\n                    invert: sortData.isAscending,\n                  })}\n                >\n                  <FilterIcon size={10} />\n                </div>\n              )}\n            </div>\n\n            {tableStatistics.map((statistic) => (\n              <HeaderCell\n                key={statistic}\n                {...{statistic, sortData, setSortData}}\n                handleSort={handleSortClick.bind(this, statistic)}\n              />\n            ))}\n          </div>\n\n          {tableOption === 'States' &&\n            Object.keys(states)\n              .filter(\n                (stateCode) =>\n                  stateCode !== 'TT' &&\n                  !(stateCode === UNASSIGNED_STATE_CODE && isPerMillion)\n              )\n              .sort((a, b) => sortingFunction(a, b))\n              .map((stateCode) => {\n                return (\n                  <Row\n                    key={stateCode}\n                    data={states[stateCode]}\n                    {...{\n                      stateCode,\n                      isPerMillion,\n                      regionHighlighted,\n                      setRegionHighlighted,\n                      expandTable,\n                      lastUpdatedTT,\n                    }}\n                  />\n                );\n              })}\n\n          {tableOption === 'Districts' && !districts && <TableLoader />}\n\n          {tableOption === 'Districts' &&\n            districts &&\n            Object.keys(districts)\n              .sort((a, b) => sortingFunction(a, b))\n              .slice(0, DISTRICT_TABLE_COUNT)\n              .map((districtKey) => {\n                return (\n                  <Row\n                    key={districtKey}\n                    data={districts[districtKey]}\n                    districtName={districts[districtKey].districtName}\n                    {...{\n                      isPerMillion,\n                      regionHighlighted,\n                      setRegionHighlighted,\n                      expandTable,\n                      lastUpdatedTT,\n                    }}\n                  />\n                );\n              })}\n\n          <Row\n            key={'TT'}\n            data={states['TT']}\n            stateCode={'TT'}\n            {...{\n              isPerMillion,\n              regionHighlighted,\n              setRegionHighlighted,\n              expandTable,\n              lastUpdatedTT,\n            }}\n          />\n        </div>\n      </div>\n    </React.Fragment>\n  );\n}\n\nconst isEqual = (prevProps, currProps) => {\n  if (\n    !equal(\n      prevProps.regionHighlighted?.districtName,\n      currProps.regionHighlighted?.districtName\n    )\n  ) {\n    return false;\n  } else if (\n    !equal(\n      prevProps.regionHighlighted?.stateCode,\n      currProps.regionHighlighted?.stateCode\n    )\n  ) {\n    return false;\n  } else if (!equal(prevProps.date, currProps.date)) {\n    return false;\n  } else if (\n    !equal(\n      prevProps.data['TT'].total.confirmed,\n      currProps.data['TT'].total.confirmed\n    )\n  ) {\n    return false;\n  } else if (!equal(prevProps.expandTable, currProps.expandTable)) {\n    return false;\n  } else return true;\n};\n\nexport default React.memo(Table, isEqual);\n"]},"metadata":{},"sourceType":"module"}