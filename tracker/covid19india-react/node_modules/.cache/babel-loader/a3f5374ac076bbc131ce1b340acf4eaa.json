{"ast":null,"code":"import _slicedToArray from\"/home/ubuntu/myprojectdir/tracker/covid19india-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{formatDate,getIndiaDateISO}from'../utils/commonFunctions';import clamp from'lodash/clamp';import React,{useState}from'react';import{useSprings,useTransition,animated,config}from'react-spring';import{useMeasure,useKeyPressEvent}from'react-use';import{useDrag}from'react-use-gesture';var Timeline=function Timeline(_ref){var setIsTimelineMode=_ref.setIsTimelineMode,setDate=_ref.setDate,dates=_ref.dates;var _useMeasure=useMeasure(),_useMeasure2=_slicedToArray(_useMeasure,2),timelineElement=_useMeasure2[0],width=_useMeasure2[1].width;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),index=_useState2[0],setIndex=_useState2[1];var _useSprings=useSprings(dates.length,function(i){return{x:(index-i)*(480/3)+480/2-35,color:i===0?'#6c757d':'#6c757d99',opacity:i<2?1:0};},config.stiff),_useSprings2=_slicedToArray(_useSprings,2),springs=_useSprings2[0],set=_useSprings2[1];var bind=useDrag(function(_ref2){var down=_ref2.down,_ref2$delta=_slicedToArray(_ref2.delta,1),xDelta=_ref2$delta[0],_ref2$direction=_slicedToArray(_ref2.direction,1),xDir=_ref2$direction[0],distance=_ref2.distance,cancel=_ref2.cancel;var clampedIndex=getClampedIndex(xDir);if(down&&distance>25){cancel(setIndex(clampedIndex));setClampedDate(clampedIndex);}if(index===0&&xDir<0){hideTimeline();}setSprings({clampedIndex:index,xDir:xDir,down:down,xDelta:xDelta});});var getClampedIndex=function getClampedIndex(direction){return clamp(index+(direction>0?1:-1),0,dates.length-1);};var setSprings=function setSprings(_ref3){var direction=_ref3.direction,clampedIndex=_ref3.clampedIndex,down=_ref3.down,xDelta=_ref3.xDelta;set(function(i){if(i<clampedIndex-1){return{x:width,color:'#6c757d99',opacity:0,display:'none'};}else if(i>clampedIndex+1){return{x:-40,color:'#6c757d99',opacity:0,display:'none'};}var x=0;if(xDelta){x=(clampedIndex-i)*(width/3)+width/2-35+(down?xDelta:0);}else{x=(clampedIndex-i)*(width/3)+width/3+45;}if(i===clampedIndex){return{x:x,color:'#6c757d',display:'block'};}return{x:x,color:'#6c757d99',opacity:1,display:'block'};});};var handleKeyPress=function handleKeyPress(direction){if(index<dates.length){var clampedIndex=getClampedIndex(direction);setSprings({direction:direction,clampedIndex:clampedIndex});setIndex(clampedIndex);setClampedDate(clampedIndex);}if(index===1&&direction===-1){hideTimeline();}};useKeyPressEvent('ArrowLeft',function(){handleKeyPress(1);});useKeyPressEvent('ArrowRight',function(){handleKeyPress(-1);});useKeyPressEvent('Escape',function(){setIsTimelineMode(false);setDate('');});var hideTimeline=function hideTimeline(){setTimeout(function(){setIsTimelineMode(false);},1000);};var getDate=function getDate(index){if(dates[index]===getIndiaDateISO())return'Today';return formatDate(dates[index],'dd MMM');};var setClampedDate=function setClampedDate(clampedIndex){if(clampedIndex===0){setDate('');}else{setDate(dates[clampedIndex]);}};var timeline={'2020-03-25':'Beginning of Lockdown Phase 1','2020-04-14':'End of Lockdown Phase 1','2020-04-15':'Beginning of Lockdown Phase 2','2020-05-03':'End of Lockdown Phase 2','2020-05-04':'Beginning of Lockdown Phase 3','2020-05-17':'End of Lockdown Phase 3','2020-05-18':'Beginning of Lockdown Phase 4','2020-05-31':'End of Lockdown Phase 4','2020-06-01':'Beginning of Lockdown Phase 5'};var transition=useTransition(timeline.hasOwnProperty(dates[index]),null,{from:{transform:'translate3d(0, 20px, 0)',opacity:0},enter:{transform:'translate3d(0, 0px, 0)',opacity:1},leave:{transform:'translate3d(0, 20px, 0)',opacity:0}});var handleClick=function handleClick(clampedIndex){if(clampedIndex>index){handleKeyPress(+1);}else{handleKeyPress(-1);}};return/*#__PURE__*/React.createElement(React.Fragment,null,transition.map(function(_ref4){var item=_ref4.item,key=_ref4.key,props=_ref4.props;return item&&/*#__PURE__*/React.createElement(animated.h5,{className:\"highlight\",key:key,style:props},timeline[dates[index]]);}),/*#__PURE__*/React.createElement(\"div\",Object.assign({className:\"Timeline\",ref:timelineElement},bind()),springs.filter(function(_ref5,i){var opacity=_ref5.opacity;return i<dates.length&&(i===index+1||i===index-1||i===index+2||i===index-2||i===index);}).map(function(_ref6,i){var x=_ref6.x,color=_ref6.color,opacity=_ref6.opacity,display=_ref6.display;return/*#__PURE__*/React.createElement(animated.div,{className:\"day\",key:i,style:{transform:x.interpolate(function(x){return\"translate3d(\".concat(x,\"px,0,0)\");}),opacity:opacity,display:display}},index<2&&/*#__PURE__*/React.createElement(animated.h5,{style:{color:color},onClick:function onClick(){handleClick(i);}},getDate(i)),index>1&&index<dates.length&&/*#__PURE__*/React.createElement(animated.h5,{style:{color:color},onClick:function onClick(){handleClick(index+i-2);}},getDate(index+i-2)));})));};export default React.memo(Timeline);","map":{"version":3,"sources":["/home/ubuntu/myprojectdir/tracker/covid19india-react/src/components/Timeline.js"],"names":["formatDate","getIndiaDateISO","clamp","React","useState","useSprings","useTransition","animated","config","useMeasure","useKeyPressEvent","useDrag","Timeline","setIsTimelineMode","setDate","dates","timelineElement","width","index","setIndex","length","i","x","color","opacity","stiff","springs","set","bind","down","delta","xDelta","direction","xDir","distance","cancel","clampedIndex","getClampedIndex","setClampedDate","hideTimeline","setSprings","display","handleKeyPress","setTimeout","getDate","timeline","transition","hasOwnProperty","from","transform","enter","leave","handleClick","map","item","key","props","filter","interpolate","memo"],"mappings":"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","sourcesContent":["import {formatDate, getIndiaDateISO} from '../utils/commonFunctions';\n\nimport clamp from 'lodash/clamp';\nimport React, {useState} from 'react';\nimport {useSprings, useTransition, animated, config} from 'react-spring';\nimport {useMeasure, useKeyPressEvent} from 'react-use';\nimport {useDrag} from 'react-use-gesture';\n\nconst Timeline = ({setIsTimelineMode, setDate, dates}) => {\n  const [timelineElement, {width}] = useMeasure();\n  const [index, setIndex] = useState(0);\n\n  const [springs, set] = useSprings(\n    dates.length,\n    (i) => ({\n      x: (index - i) * (480 / 3) + 480 / 2 - 35,\n      color: i === 0 ? '#6c757d' : '#6c757d99',\n      opacity: i < 2 ? 1 : 0,\n    }),\n    config.stiff\n  );\n\n  const bind = useDrag(\n    ({down, delta: [xDelta], direction: [xDir], distance, cancel}) => {\n      const clampedIndex = getClampedIndex(xDir);\n      if (down && distance > 25) {\n        cancel(setIndex(clampedIndex));\n        setClampedDate(clampedIndex);\n      }\n\n      if (index === 0 && xDir < 0) {\n        hideTimeline();\n      }\n\n      setSprings({clampedIndex: index, xDir, down, xDelta});\n    }\n  );\n\n  const getClampedIndex = (direction) => {\n    return clamp(index + (direction > 0 ? 1 : -1), 0, dates.length - 1);\n  };\n\n  const setSprings = ({direction, clampedIndex, down, xDelta}) => {\n    set((i) => {\n      if (i < clampedIndex - 1) {\n        return {x: width, color: '#6c757d99', opacity: 0, display: 'none'};\n      } else if (i > clampedIndex + 1) {\n        return {x: -40, color: '#6c757d99', opacity: 0, display: 'none'};\n      }\n\n      let x = 0;\n      if (xDelta) {\n        x =\n          (clampedIndex - i) * (width / 3) +\n          width / 2 -\n          35 +\n          (down ? xDelta : 0);\n      } else {\n        x = (clampedIndex - i) * (width / 3) + width / 3 + 45;\n      }\n\n      if (i === clampedIndex) {\n        return {x, color: '#6c757d', display: 'block'};\n      }\n      return {x, color: '#6c757d99', opacity: 1, display: 'block'};\n    });\n  };\n\n  const handleKeyPress = (direction) => {\n    if (index < dates.length) {\n      const clampedIndex = getClampedIndex(direction);\n      setSprings({direction, clampedIndex});\n      setIndex(clampedIndex);\n      setClampedDate(clampedIndex);\n    }\n    if (index === 1 && direction === -1) {\n      hideTimeline();\n    }\n  };\n\n  useKeyPressEvent('ArrowLeft', () => {\n    handleKeyPress(1);\n  });\n\n  useKeyPressEvent('ArrowRight', () => {\n    handleKeyPress(-1);\n  });\n\n  useKeyPressEvent('Escape', () => {\n    setIsTimelineMode(false);\n    setDate('');\n  });\n\n  const hideTimeline = () => {\n    setTimeout(() => {\n      setIsTimelineMode(false);\n    }, 1000);\n  };\n\n  const getDate = (index) => {\n    if (dates[index] === getIndiaDateISO()) return 'Today';\n    return formatDate(dates[index], 'dd MMM');\n  };\n\n  const setClampedDate = (clampedIndex) => {\n    if (clampedIndex === 0) {\n      setDate('');\n    } else {\n      setDate(dates[clampedIndex]);\n    }\n  };\n\n  const timeline = {\n    '2020-03-25': 'Beginning of Lockdown Phase 1',\n    '2020-04-14': 'End of Lockdown Phase 1',\n    '2020-04-15': 'Beginning of Lockdown Phase 2',\n    '2020-05-03': 'End of Lockdown Phase 2',\n    '2020-05-04': 'Beginning of Lockdown Phase 3',\n    '2020-05-17': 'End of Lockdown Phase 3',\n    '2020-05-18': 'Beginning of Lockdown Phase 4',\n    '2020-05-31': 'End of Lockdown Phase 4',\n    '2020-06-01': 'Beginning of Lockdown Phase 5',\n  };\n\n  const transition = useTransition(\n    timeline.hasOwnProperty(dates[index]),\n    null,\n    {\n      from: {transform: 'translate3d(0, 20px, 0)', opacity: 0},\n      enter: {transform: 'translate3d(0, 0px, 0)', opacity: 1},\n      leave: {transform: 'translate3d(0, 20px, 0)', opacity: 0},\n    }\n  );\n\n  const handleClick = (clampedIndex) => {\n    if (clampedIndex > index) {\n      handleKeyPress(+1);\n    } else {\n      handleKeyPress(-1);\n    }\n  };\n\n  return (\n    <React.Fragment>\n      {transition.map(\n        ({item, key, props}) =>\n          item && (\n            <animated.h5 className=\"highlight\" key={key} style={props}>\n              {timeline[dates[index]]}\n            </animated.h5>\n          )\n      )}\n\n      <div className=\"Timeline\" ref={timelineElement} {...bind()}>\n        {springs\n          .filter(\n            ({opacity}, i) =>\n              i < dates.length &&\n              (i === index + 1 ||\n                i === index - 1 ||\n                i === index + 2 ||\n                i === index - 2 ||\n                i === index)\n          )\n          .map(({x, color, opacity, display}, i) => (\n            <animated.div\n              className=\"day\"\n              key={i}\n              style={{\n                transform: x.interpolate((x) => `translate3d(${x}px,0,0)`),\n                opacity,\n                display,\n              }}\n            >\n              {index < 2 && (\n                <animated.h5\n                  style={{color}}\n                  onClick={() => {\n                    handleClick(i);\n                  }}\n                >\n                  {getDate(i)}\n                </animated.h5>\n              )}\n              {index > 1 && index < dates.length && (\n                <animated.h5\n                  style={{color}}\n                  onClick={() => {\n                    handleClick(index + i - 2);\n                  }}\n                >\n                  {getDate(index + i - 2)}\n                </animated.h5>\n              )}\n            </animated.div>\n          ))}\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default React.memo(Timeline);\n"]},"metadata":{},"sourceType":"module"}