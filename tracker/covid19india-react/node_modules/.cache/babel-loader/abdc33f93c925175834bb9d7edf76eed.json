{"ast":null,"code":"import _slicedToArray from\"/home/ubuntu/myprojectdir/tracker/covid19india-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";var _this=this;import{MAP_META,STATE_NAMES}from'../constants';import React,{useState,useCallback,useRef}from'react';import{useTranslation}from'react-i18next';import{useHistory}from'react-router-dom';import{useTransition,animated}from'react-spring';import{useClickAway}from'react-use';var StateDropdown=function StateDropdown(_ref){var stateCode=_ref.stateCode,trail=_ref.trail;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showDropdown=_useState2[0],setShowDropdown=_useState2[1];var dropdownRef=useRef();var history=useHistory();var _useTranslation=useTranslation(),t=_useTranslation.t;useClickAway(dropdownRef,function(){setShowDropdown(false);});var transitions=useTransition(showDropdown,null,{from:{opacity:0,transform:'translate3d(0, 2px, 0)',zIndex:999},enter:{opacity:1,transform:'translate3d(0, 0px, 0)',zIndex:999},leave:{opacity:0,transform:'translate3d(0, 2px, 0)',zIndex:999},config:{mass:1,tension:210,friction:20}});var handleClick=useCallback(function(stateCodeItr){setShowDropdown(false);history.push(\"/state/\".concat(stateCodeItr));},[history]);return/*#__PURE__*/React.createElement(\"div\",{className:\"StateDropdown\",ref:dropdownRef},/*#__PURE__*/React.createElement(animated.h1,{className:\"state-name fadeInUp\",style:trail,onClick:setShowDropdown.bind(_this,!showDropdown)},t(STATE_NAMES[stateCode])),transitions.map(function(_ref2){var item=_ref2.item,key=_ref2.key,props=_ref2.props;return item?/*#__PURE__*/React.createElement(animated.div,{className:\"dropdown\",style:props,key:key},Object.keys(MAP_META).filter(function(stateCodeItr){return stateCodeItr!=='TT'&&stateCodeItr!==stateCode;}).sort(function(code1,code2){return STATE_NAMES[code1].localeCompare(STATE_NAMES[code2]);}).map(function(stateCodeItr){return/*#__PURE__*/React.createElement(\"h1\",{key:stateCodeItr,className:\"item\",onClick:handleClick.bind(_this,stateCodeItr)},t(STATE_NAMES[stateCodeItr]));})):/*#__PURE__*/React.createElement(animated.div,{key:stateCode,style:props});}),showDropdown&&/*#__PURE__*/React.createElement(\"div\",{className:\"backdrop\"}));};export default StateDropdown;","map":{"version":3,"sources":["/home/ubuntu/myprojectdir/tracker/covid19india-react/src/components/StateDropdown.js"],"names":["MAP_META","STATE_NAMES","React","useState","useCallback","useRef","useTranslation","useHistory","useTransition","animated","useClickAway","StateDropdown","stateCode","trail","showDropdown","setShowDropdown","dropdownRef","history","t","transitions","from","opacity","transform","zIndex","enter","leave","config","mass","tension","friction","handleClick","stateCodeItr","push","bind","map","item","key","props","Object","keys","filter","sort","code1","code2","localeCompare"],"mappings":"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","sourcesContent":["import {MAP_META, STATE_NAMES} from '../constants';\n\nimport React, {useState, useCallback, useRef} from 'react';\nimport {useTranslation} from 'react-i18next';\nimport {useHistory} from 'react-router-dom';\nimport {useTransition, animated} from 'react-spring';\nimport {useClickAway} from 'react-use';\n\nconst StateDropdown = ({stateCode, trail}) => {\n  const [showDropdown, setShowDropdown] = useState(false);\n  const dropdownRef = useRef();\n  const history = useHistory();\n  const {t} = useTranslation();\n\n  useClickAway(dropdownRef, () => {\n    setShowDropdown(false);\n  });\n\n  const transitions = useTransition(showDropdown, null, {\n    from: {\n      opacity: 0,\n      transform: 'translate3d(0, 2px, 0)',\n      zIndex: 999,\n    },\n    enter: {\n      opacity: 1,\n      transform: 'translate3d(0, 0px, 0)',\n      zIndex: 999,\n    },\n    leave: {\n      opacity: 0,\n      transform: 'translate3d(0, 2px, 0)',\n      zIndex: 999,\n    },\n    config: {\n      mass: 1,\n      tension: 210,\n      friction: 20,\n    },\n  });\n\n  const handleClick = useCallback(\n    (stateCodeItr) => {\n      setShowDropdown(false);\n      history.push(`/state/${stateCodeItr}`);\n    },\n    [history]\n  );\n\n  return (\n    <div className=\"StateDropdown\" ref={dropdownRef}>\n      <animated.h1\n        className=\"state-name fadeInUp\"\n        style={trail}\n        onClick={setShowDropdown.bind(this, !showDropdown)}\n      >\n        {t(STATE_NAMES[stateCode])}\n      </animated.h1>\n\n      {transitions.map(({item, key, props}) =>\n        item ? (\n          <animated.div className=\"dropdown\" style={props} key={key}>\n            {Object.keys(MAP_META)\n              .filter(\n                (stateCodeItr) =>\n                  stateCodeItr !== 'TT' && stateCodeItr !== stateCode\n              )\n              .sort((code1, code2) =>\n                STATE_NAMES[code1].localeCompare(STATE_NAMES[code2])\n              )\n              .map((stateCodeItr) => (\n                <h1\n                  key={stateCodeItr}\n                  className=\"item\"\n                  onClick={handleClick.bind(this, stateCodeItr)}\n                >\n                  {t(STATE_NAMES[stateCodeItr])}\n                </h1>\n              ))}\n          </animated.div>\n        ) : (\n          <animated.div key={stateCode} style={props}></animated.div>\n        )\n      )}\n\n      {showDropdown && <div className=\"backdrop\"></div>}\n    </div>\n  );\n};\n\nexport default StateDropdown;\n"]},"metadata":{},"sourceType":"module"}