{"ast":null,"code":"var _jsxFileName = \"/home/ubuntu/myprojectdir/tracker/covid19india-react/src/components/Home.js\";\nimport { API_ROOT_URL } from '../constants';\nimport useIsVisible from '../hooks/useIsVisible';\nimport useStickySWR from '../hooks/useStickySWR';\nimport { fetcher } from '../utils/commonFunctions';\nimport classnames from 'classnames';\nimport React, { useState, useRef, lazy, Suspense } from 'react';\nimport { Helmet } from 'react-helmet';\nimport { useLocation } from 'react-router-dom';\nimport { useLocalStorage, useSessionStorage, useWindowSize } from 'react-use';\nconst TimeseriesExplorer = lazy(() => import('./TimeseriesExplorer'));\nconst MapExplorer = lazy(() => import('./MapExplorer'));\nconst Actions = lazy(() => import('./Actions'));\nconst Table = lazy(() => import('./Table'));\nconst Minigraphs = lazy(() => import('./Minigraphs'));\nconst Footer = lazy(() => import('./Footer'));\nconst Search = lazy(() => import('./Search'));\nconst Level = lazy(() => import('./Level'));\nconst MapSwitcher = lazy(() => import('./MapSwitcher'));\nconst StateHeader = lazy(() => import('./StateHeader'));\n\nfunction Home() {\n  var _timeseries$TT, _timeseries$TT2;\n\n  const [regionHighlighted, setRegionHighlighted] = useState({\n    stateCode: 'TT',\n    districtName: null\n  });\n  const [anchor, setAnchor] = useLocalStorage('anchor', null);\n  const [expandTable, setExpandTable] = useLocalStorage('expandTable', false);\n  const [mapStatistic, setMapStatistic] = useSessionStorage('mapStatistic', 'active');\n  const [date, setDate] = useState('');\n  const location = useLocation();\n  const {\n    data: timeseries\n  } = useStickySWR(`${API_ROOT_URL}/timeseries.min.json`, fetcher, {\n    revalidateOnMount: true,\n    refreshInterval: 100000\n  });\n  const {\n    data\n  } = useStickySWR(`${API_ROOT_URL}/data${date ? `-${date}` : ''}.min.json`, fetcher, {\n    revalidateOnMount: true,\n    refreshInterval: 100000\n  });\n  const homeRightElement = useRef();\n  const isVisible = useIsVisible(homeRightElement);\n  const {\n    width\n  } = useWindowSize();\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Helmet, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, \"Coronavirus Outbreak in India - covid19india.org\"), /*#__PURE__*/React.createElement(\"meta\", {\n    name: \"title\",\n    content: \"Coronavirus Outbreak in India: Latest Map and Case Count\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Home\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classnames('home-left', {\n      expanded: expandTable\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Suspense, {\n    fallback: /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 33\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Search, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 15\n    }\n  })), timeseries && /*#__PURE__*/React.createElement(Suspense, {\n    fallback: /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        minHeight: '56px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 35\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Actions, Object.assign({\n    setDate,\n    dates: Object.keys((_timeseries$TT = timeseries['TT']) === null || _timeseries$TT === void 0 ? void 0 : _timeseries$TT.dates).reverse(),\n    date\n  }, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      position: 'relative',\n      marginTop: '1rem'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  }, data && /*#__PURE__*/React.createElement(Suspense, {\n    fallback: /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        height: '50rem'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 35\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 15\n    }\n  }, width > 769 && /*#__PURE__*/React.createElement(MapSwitcher, Object.assign({\n    mapStatistic,\n    setMapStatistic\n  }, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(Level, {\n    data: data['TT'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }\n  })), timeseries && /*#__PURE__*/React.createElement(Suspense, {\n    fallback: /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        height: '50rem'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 35\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Minigraphs, Object.assign({\n    timeseries: (_timeseries$TT2 = timeseries['TT']) === null || _timeseries$TT2 === void 0 ? void 0 : _timeseries$TT2.dates\n  }, {\n    date\n  }, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  })))), data && /*#__PURE__*/React.createElement(Suspense, {\n    fallback: /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 33\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Table, Object.assign({\n    data,\n    regionHighlighted,\n    setRegionHighlighted,\n    expandTable,\n    setExpandTable\n  }, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 15\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: classnames('home-right', {\n      expanded: expandTable\n    }),\n    ref: homeRightElement,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }\n  }, (isVisible || location.hash) && /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }\n  }, data && /*#__PURE__*/React.createElement(\"div\", {\n    className: classnames('map-container', {\n      expanded: expandTable\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Suspense, {\n    fallback: /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        height: '50rem'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 39\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(StateHeader, {\n    data: data['TT'],\n    stateCode: 'TT',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(MapExplorer, Object.assign({\n    stateCode: \"TT\"\n  }, {\n    data\n  }, {\n    mapStatistic,\n    setMapStatistic\n  }, {\n    regionHighlighted,\n    setRegionHighlighted\n  }, {\n    anchor,\n    setAnchor\n  }, {\n    expandTable\n  }, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 21\n    }\n  })))), timeseries && /*#__PURE__*/React.createElement(Suspense, {\n    fallback: /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 37\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TimeseriesExplorer, Object.assign({\n    stateCode: \"TT\"\n  }, {\n    timeseries,\n    date,\n    regionHighlighted,\n    setRegionHighlighted,\n    anchor,\n    setAnchor,\n    expandTable\n  }, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 19\n    }\n  })))))), isVisible && /*#__PURE__*/React.createElement(Suspense, {\n    fallback: /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 29\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 11\n    }\n  })));\n}\n\nexport default Home;","map":{"version":3,"sources":["/home/ubuntu/myprojectdir/tracker/covid19india-react/src/components/Home.js"],"names":["API_ROOT_URL","useIsVisible","useStickySWR","fetcher","classnames","React","useState","useRef","lazy","Suspense","Helmet","useLocation","useLocalStorage","useSessionStorage","useWindowSize","TimeseriesExplorer","MapExplorer","Actions","Table","Minigraphs","Footer","Search","Level","MapSwitcher","StateHeader","Home","regionHighlighted","setRegionHighlighted","stateCode","districtName","anchor","setAnchor","expandTable","setExpandTable","mapStatistic","setMapStatistic","date","setDate","location","data","timeseries","revalidateOnMount","refreshInterval","homeRightElement","isVisible","width","expanded","minHeight","dates","Object","keys","reverse","position","marginTop","height","hash"],"mappings":"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","sourcesContent":["import {API_ROOT_URL} from '../constants';\nimport useIsVisible from '../hooks/useIsVisible';\nimport useStickySWR from '../hooks/useStickySWR';\nimport {fetcher} from '../utils/commonFunctions';\n\nimport classnames from 'classnames';\nimport React, {useState, useRef, lazy, Suspense} from 'react';\nimport {Helmet} from 'react-helmet';\nimport {useLocation} from 'react-router-dom';\nimport {useLocalStorage, useSessionStorage, useWindowSize} from 'react-use';\n\nconst TimeseriesExplorer = lazy(() => import('./TimeseriesExplorer'));\nconst MapExplorer = lazy(() => import('./MapExplorer'));\nconst Actions = lazy(() => import('./Actions'));\nconst Table = lazy(() => import('./Table'));\nconst Minigraphs = lazy(() => import('./Minigraphs'));\nconst Footer = lazy(() => import('./Footer'));\nconst Search = lazy(() => import('./Search'));\nconst Level = lazy(() => import('./Level'));\nconst MapSwitcher = lazy(() => import('./MapSwitcher'));\nconst StateHeader = lazy(() => import('./StateHeader'));\n\nfunction Home() {\n  const [regionHighlighted, setRegionHighlighted] = useState({\n    stateCode: 'TT',\n    districtName: null,\n  });\n\n  const [anchor, setAnchor] = useLocalStorage('anchor', null);\n  const [expandTable, setExpandTable] = useLocalStorage('expandTable', false);\n  const [mapStatistic, setMapStatistic] = useSessionStorage(\n    'mapStatistic',\n    'active'\n  );\n  const [date, setDate] = useState('');\n  const location = useLocation();\n\n  const {data: timeseries} = useStickySWR(\n    `${API_ROOT_URL}/timeseries.min.json`,\n    fetcher,\n    {\n      revalidateOnMount: true,\n      refreshInterval: 100000,\n    }\n  );\n\n  const {data} = useStickySWR(\n    `${API_ROOT_URL}/data${date ? `-${date}` : ''}.min.json`,\n    fetcher,\n    {\n      revalidateOnMount: true,\n      refreshInterval: 100000,\n    }\n  );\n\n  const homeRightElement = useRef();\n  const isVisible = useIsVisible(homeRightElement);\n  const {width} = useWindowSize();\n\n  return (\n    <React.Fragment>\n      <Helmet>\n        <title>Coronavirus Outbreak in India - covid19india.org</title>\n        <meta\n          name=\"title\"\n          content=\"Coronavirus Outbreak in India: Latest Map and Case Count\"\n        />\n      </Helmet>\n\n      <div className=\"Home\">\n        <div className={classnames('home-left', {expanded: expandTable})}>\n          <div className=\"header\">\n            <Suspense fallback={<div />}>\n              <Search />\n            </Suspense>\n\n            {timeseries && (\n              <Suspense fallback={<div style={{minHeight: '56px'}} />}>\n                <Actions\n                  {...{\n                    setDate,\n                    dates: Object.keys(timeseries['TT']?.dates).reverse(),\n                    date,\n                  }}\n                />\n              </Suspense>\n            )}\n          </div>\n\n          <div style={{position: 'relative', marginTop: '1rem'}}>\n            {data && (\n              <Suspense fallback={<div style={{height: '50rem'}} />}>\n                {width > 769 && (\n                  <MapSwitcher {...{mapStatistic, setMapStatistic}} />\n                )}\n                <Level data={data['TT']} />\n              </Suspense>\n            )}\n\n            {timeseries && (\n              <Suspense fallback={<div style={{height: '50rem'}} />}>\n                <Minigraphs timeseries={timeseries['TT']?.dates} {...{date}} />\n              </Suspense>\n            )}\n          </div>\n\n          {data && (\n            <Suspense fallback={<div />}>\n              <Table\n                {...{\n                  data,\n                  regionHighlighted,\n                  setRegionHighlighted,\n                  expandTable,\n                  setExpandTable,\n                }}\n              />\n            </Suspense>\n          )}\n        </div>\n\n        <div\n          className={classnames('home-right', {expanded: expandTable})}\n          ref={homeRightElement}\n        >\n          {(isVisible || location.hash) && (\n            <React.Fragment>\n              {data && (\n                <div\n                  className={classnames('map-container', {\n                    expanded: expandTable,\n                  })}\n                >\n                  <Suspense fallback={<div style={{height: '50rem'}} />}>\n                    <StateHeader data={data['TT']} stateCode={'TT'} />\n                    <MapExplorer\n                      stateCode=\"TT\"\n                      {...{data}}\n                      {...{mapStatistic, setMapStatistic}}\n                      {...{regionHighlighted, setRegionHighlighted}}\n                      {...{anchor, setAnchor}}\n                      {...{expandTable}}\n                    />\n                  </Suspense>\n                </div>\n              )}\n\n              {timeseries && (\n                <Suspense fallback={<div />}>\n                  <TimeseriesExplorer\n                    stateCode=\"TT\"\n                    {...{\n                      timeseries,\n                      date,\n                      regionHighlighted,\n                      setRegionHighlighted,\n                      anchor,\n                      setAnchor,\n                      expandTable,\n                    }}\n                  />\n                </Suspense>\n              )}\n            </React.Fragment>\n          )}\n        </div>\n      </div>\n\n      {isVisible && (\n        <Suspense fallback={<div />}>\n          <Footer />\n        </Suspense>\n      )}\n    </React.Fragment>\n  );\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}