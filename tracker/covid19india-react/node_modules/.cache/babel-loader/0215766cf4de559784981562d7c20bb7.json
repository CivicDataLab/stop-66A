{"ast":null,"code":"import{ENTER_IN,ENTER_OUT}from'../animations';import locales from'../i18n/locales.json';import classnames from'classnames';import React,{useRef,useCallback}from'react';import{ArrowUp}from'react-feather';import{useTranslation}from'react-i18next';import{useTransition,animated}from'react-spring';import{useClickAway}from'react-use';function LanguageSwitcher(_ref){var _i18n$options,_this=this;var showLanguageSwitcher=_ref.showLanguageSwitcher,setShowLanguageSwitcher=_ref.setShowLanguageSwitcher;var _useTranslation=useTranslation(),i18n=_useTranslation.i18n;var currentLanguage=Object.keys(locales).includes(i18n===null||i18n===void 0?void 0:i18n.language)?i18n===null||i18n===void 0?void 0:i18n.language:i18n===null||i18n===void 0?void 0:(_i18n$options=i18n.options)===null||_i18n$options===void 0?void 0:_i18n$options.fallbackLng[0];var transitions=useTransition(showLanguageSwitcher,null,{from:ENTER_OUT,enter:ENTER_IN,leave:ENTER_OUT,config:{mass:1,tension:100,friction:15}});var languageSwitcherRef=useRef();useClickAway(languageSwitcherRef,function(){setShowLanguageSwitcher(false);});var switchLanguage=useCallback(function(languageKey){if(i18n)i18n.changeLanguage(languageKey);},[i18n]);return transitions.map(function(_ref2){var item=_ref2.item,key=_ref2.key,props=_ref2.props;return item?/*#__PURE__*/React.createElement(animated.div,{key:key,className:\"LanguageSwitcher\",style:props,ref:languageSwitcherRef},/*#__PURE__*/React.createElement(\"h3\",null,\"We speak the following languages\"),/*#__PURE__*/React.createElement(\"div\",{className:\"languages\"},Object.keys(locales).map(function(languageKey){return/*#__PURE__*/React.createElement(\"div\",{key:languageKey,className:classnames('language',{'is-highlighted':currentLanguage===languageKey}),onClick:switchLanguage.bind(_this,languageKey)},/*#__PURE__*/React.createElement(\"span\",null,locales[languageKey]));})),/*#__PURE__*/React.createElement(\"div\",{className:\"close-button\",onClick:setShowLanguageSwitcher.bind(_this,false)},/*#__PURE__*/React.createElement(ArrowUp,{width:16}))):/*#__PURE__*/React.createElement(animated.div,{key:key});});}export default React.memo(LanguageSwitcher);","map":{"version":3,"sources":["/home/ubuntu/myprojectdir/tracker/covid19india-react/src/components/LanguageSwitcher.js"],"names":["ENTER_IN","ENTER_OUT","locales","classnames","React","useRef","useCallback","ArrowUp","useTranslation","useTransition","animated","useClickAway","LanguageSwitcher","showLanguageSwitcher","setShowLanguageSwitcher","i18n","currentLanguage","Object","keys","includes","language","options","fallbackLng","transitions","from","enter","leave","config","mass","tension","friction","languageSwitcherRef","switchLanguage","languageKey","changeLanguage","map","item","key","props","bind","memo"],"mappings":"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","sourcesContent":["import {ENTER_IN, ENTER_OUT} from '../animations';\nimport locales from '../i18n/locales.json';\n\nimport classnames from 'classnames';\nimport React, {useRef, useCallback} from 'react';\nimport {ArrowUp} from 'react-feather';\nimport {useTranslation} from 'react-i18next';\nimport {useTransition, animated} from 'react-spring';\nimport {useClickAway} from 'react-use';\n\nfunction LanguageSwitcher({showLanguageSwitcher, setShowLanguageSwitcher}) {\n  const {i18n} = useTranslation();\n  const currentLanguage = Object.keys(locales).includes(i18n?.language)\n    ? i18n?.language\n    : i18n?.options?.fallbackLng[0];\n\n  const transitions = useTransition(showLanguageSwitcher, null, {\n    from: ENTER_OUT,\n    enter: ENTER_IN,\n    leave: ENTER_OUT,\n    config: {\n      mass: 1,\n      tension: 100,\n      friction: 15,\n    },\n  });\n\n  const languageSwitcherRef = useRef();\n  useClickAway(languageSwitcherRef, () => {\n    setShowLanguageSwitcher(false);\n  });\n\n  const switchLanguage = useCallback(\n    (languageKey) => {\n      if (i18n) i18n.changeLanguage(languageKey);\n    },\n    [i18n]\n  );\n\n  return transitions.map(({item, key, props}) =>\n    item ? (\n      <animated.div\n        key={key}\n        className=\"LanguageSwitcher\"\n        style={props}\n        ref={languageSwitcherRef}\n      >\n        <h3>We speak the following languages</h3>\n\n        <div className=\"languages\">\n          {Object.keys(locales).map((languageKey) => (\n            <div\n              key={languageKey}\n              className={classnames('language', {\n                'is-highlighted': currentLanguage === languageKey,\n              })}\n              onClick={switchLanguage.bind(this, languageKey)}\n            >\n              <span>{locales[languageKey]}</span>\n            </div>\n          ))}\n        </div>\n\n        <div\n          className=\"close-button\"\n          onClick={setShowLanguageSwitcher.bind(this, false)}\n        >\n          <ArrowUp width={16} />\n        </div>\n      </animated.div>\n    ) : (\n      <animated.div key={key}></animated.div>\n    )\n  );\n}\n\nexport default React.memo(LanguageSwitcher);\n"]},"metadata":{},"sourceType":"module"}