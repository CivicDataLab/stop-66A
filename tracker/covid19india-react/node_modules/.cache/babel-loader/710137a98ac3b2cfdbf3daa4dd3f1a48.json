{"ast":null,"code":"var _jsxFileName = \"/home/ubuntu/myprojectdir/tracker/covid19india-react/src/components/Updates.js\";\nimport { UPDATES_COUNT } from '../constants';\nimport { capitalize } from '../utils/commonFunctions';\nimport { formatDistance, format } from 'date-fns';\nimport React, { useLayoutEffect } from 'react';\nimport { Send } from 'react-feather';\nconst newDate = new Date();\nlet currentDate = newDate;\n\nfunction Updates({\n  updates\n}) {\n  useLayoutEffect(() => {\n    currentDate = newDate;\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"updates\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"updates-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 9\n    }\n  }, format(currentDate, 'd MMM'))), updates.slice(-UPDATES_COUNT).reverse().map(function (activity, index) {\n    activity.update = activity.update.replace(/\\n/g, '<br/>');\n    const activityDate = new Date(activity.timestamp * 1000);\n\n    const addHeader = () => {\n      currentDate = activityDate;\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 15\n        }\n      }, index === 0 ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"update\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 21\n        }\n      }, \"No updates yet!\")) : '', /*#__PURE__*/React.createElement(\"div\", {\n        className: \"updates-header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 19\n        }\n      }, format(activityDate, 'd MMM'))));\n    };\n\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 13\n      }\n    }, activityDate.getDate() !== currentDate.getDate() ? addHeader() : ' ', /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      className: \"update\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }\n    }, capitalize(formatDistance(new Date(activity.timestamp * 1000), new Date())) + ' ago'), /*#__PURE__*/React.createElement(\"h4\", {\n      dangerouslySetInnerHTML: {\n        __html: activity.update\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }\n    })));\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"updates-footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"https://t.me/covid19indiaorg_updates\",\n    target: \"_blank\",\n    className: \"telegram\",\n    rel: \"noopener noreferrer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Send, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }), \"Join Instant Updates channel\"))));\n}\n\nexport default Updates;","map":{"version":3,"sources":["/home/ubuntu/myprojectdir/tracker/covid19india-react/src/components/Updates.js"],"names":["UPDATES_COUNT","capitalize","formatDistance","format","React","useLayoutEffect","Send","newDate","Date","currentDate","Updates","updates","slice","reverse","map","activity","index","update","replace","activityDate","timestamp","addHeader","getDate","__html"],"mappings":"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","sourcesContent":["import {UPDATES_COUNT} from '../constants';\nimport {capitalize} from '../utils/commonFunctions';\n\nimport {formatDistance, format} from 'date-fns';\nimport React, {useLayoutEffect} from 'react';\nimport {Send} from 'react-feather';\n\nconst newDate = new Date();\nlet currentDate = newDate;\n\nfunction Updates({updates}) {\n  useLayoutEffect(() => {\n    currentDate = newDate;\n  });\n\n  return (\n    <div className=\"updates\">\n      <div className=\"updates-header\">\n        <h2>{format(currentDate, 'd MMM')}</h2>\n      </div>\n\n      {updates\n        .slice(-UPDATES_COUNT)\n        .reverse()\n        .map(function (activity, index) {\n          activity.update = activity.update.replace(/\\n/g, '<br/>');\n          const activityDate = new Date(activity.timestamp * 1000);\n          const addHeader = () => {\n            currentDate = activityDate;\n\n            return (\n              <React.Fragment>\n                {index === 0 ? (\n                  <div className=\"update\">\n                    <h4>No updates yet!</h4>\n                  </div>\n                ) : (\n                  ''\n                )}\n                <div className=\"updates-header\">\n                  <h2>{format(activityDate, 'd MMM')}</h2>\n                </div>\n              </React.Fragment>\n            );\n          };\n\n          return (\n            <React.Fragment key={index}>\n              {activityDate.getDate() !== currentDate.getDate()\n                ? addHeader()\n                : ' '}\n              <div key={index} className=\"update\">\n                <h5>\n                  {capitalize(\n                    formatDistance(\n                      new Date(activity.timestamp * 1000),\n                      new Date()\n                    )\n                  ) + ' ago'}\n                </h5>\n                <h4\n                  dangerouslySetInnerHTML={{\n                    __html: activity.update,\n                  }}\n                ></h4>\n              </div>\n            </React.Fragment>\n          );\n        })}\n      <div className=\"updates-footer\">\n        <a\n          href=\"https://t.me/covid19indiaorg_updates\"\n          target=\"_blank\"\n          className=\"telegram\"\n          rel=\"noopener noreferrer\"\n        >\n          <h4>\n            <Send />\n            Join Instant Updates channel\n          </h4>\n        </a>\n      </div>\n    </div>\n  );\n}\n\nexport default Updates;\n"]},"metadata":{},"sourceType":"module"}